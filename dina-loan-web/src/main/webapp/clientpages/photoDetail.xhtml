<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui"    
      xmlns:h="http://java.sun.com/jsf/html"    > 

    <head>
        <title>Photo detail</title>
    </head>
    <body>    
        <ui:composition  template="/templates/masterLayout.xhtml">     
            <ui:define name="content"  >  
                <h:panelGroup styleClass="main" layout="block" id="photoDetail"  >    
                    <ui:include src="/clientpages/breadcrumb.xhtml" />  
                    <h:form id="photoDetailform">
                        <h:panelGroup layout="block" id="photoDetailPanel"  styleClass="purposepage" > 

                            <h:panelGroup layout="block" >
                                <p:outputLabel value="#{msg.page6phototitle1}"  
                                               style="font-size: 20px; font-weight: bold;" /> 
                            </h:panelGroup> 
                            <br />
                            <br /> 

                            <h:panelGroup layout="block" >
                                <p:outputLabel value="#{msg.page6phototitle2}" styleClass="text" /> 
                            </h:panelGroup> 
                            <br /> 
                            <h:panelGroup layout="block" style="padding-left: 15px; " >
                                <p:inputTextarea id="page6photoInst" 
                                                 value="#{scientificLoanForm.photoInstruction}"
                                                 rows="5" cols="110" styleClass="contactfieldstext" >  
                                    <p:ajax event="blur" listener="#{scientificLoanForm.saveText()}" 
                                            global="false" />
                                </p:inputTextarea>
                            </h:panelGroup> 

                            <h:panelGroup style="float: right; " layout="block" >  
                                <h:panelGroup layout="block" style="width: 300px; float: left;" id="uploadphotodesfilePanel">
                                    <p:outputLabel value="#{msg.optional}:" styleClass="text" /> 
                                    <br />
                                    <p:outputLabel value="#{msg.attachfile}:" styleClass="text" />   

                                    <h:panelGroup layout="block"  >
                                        <p:fileUpload fileUploadListener="#{files.handlePhotoInstFileUpload}"  
                                                      mode="advanced" label="#{msg.uploadfile}" 
                                                      invalidSizeMessage="#{msg.invalidfilesiz}"
                                                      auto="true" styleClass="originalbutton" 
                                                      sizeLimit="5000000" 
                                                       update="uploadphotodesfilePanel" />  
                                    </h:panelGroup> 

                                    <h:panelGroup layout="block"  id="uploadedphotodespFilePanel"  
                                                  style="margin-top: -20px; " 
                                                  rendered="#{not empty files.photoInstructionFile}">
                                        <p:panel style="border: none; font-size: 12px; " > 
                                            <p:outputLabel value="#{files.photoInstructionFileName}" /> 
                                            <p:spacer width="10" />
                                            <p:commandLink actionListener="#{files.removePhotoInstructionFile()}" 
                                                           process="uploadphotodesfilePanel"
                                                           title="#{msg.btnremovefile}"  
                                                           update="uploadphotodesfilePanel" global="false"   > 
                                                <h:graphicImage name="images/button_remove.gif" styleClass="images" /> 
                                            </p:commandLink> 
                                        </p:panel>    
                                    </h:panelGroup>
                                </h:panelGroup> 
                            </h:panelGroup>

                            <br />
                            <br /> 
                            <br />
                            <br />
                            <br /> 
                            <br />

                            <p:panel> 
                                <h:panelGroup layout="block" style="width: 150px; float: right;  ">  
                                    <p:commandButton value="#{msg.back}" 
                                                     action="#{viewBean.navigateIndexSpecimens()}" 
                                                     process="@this" global="false" />  
                                    <p:spacer width="10" />
                                    <p:commandButton value="#{msg.next}" 
                                                     action="#{viewBean.gotoCitesPage()}" 
                                                     global="false" process="@this" />
                                </h:panelGroup> 
                            </p:panel> 
                            <br /> 
                            <br />
                        </h:panelGroup>   
                    </h:form>
                </h:panelGroup> 
            </ui:define>
        </ui:composition>
    </body>
</html>