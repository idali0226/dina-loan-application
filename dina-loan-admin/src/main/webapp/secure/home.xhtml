<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://java.sun.com/jsf/html"   
      xmlns:p="http://primefaces.org/ui"  >
    <head>
        <title>Home</title>
    </head>
    <body> 
        <ui:composition  template="/templates/masterLayout.xhtml">     
            <ui:define name="content"  >    
                <h:form id="adminform" enctype="multipart/form-data" prependId="false">      
                    <h:panelGroup styleClass="main" layout="block" id="mainpanel" 
                                  style="min-height: 200px; overflow: auto;">    
        
                        <h:panelGroup style="width: 100%; " >    
                            <h:panelGroup layout="block" styleClass="centralpanel">  
                                <h:panelGroup style="padding-left: 120px;">
                                     This is the loan request administration page.
                                    <br />
                                    <br />   
                                    <h:panelGrid columns="5" id="vacationpanel" 
                                                 style="padding-left: 120px; "
                                                 cellpadding="0" cellspacing="0">
                                        <h:outputText value="On vacation: " />
                                        <p:spacer width="5" />  

                                        <p:inputSwitch value="#{user.loggedinUser.onvacation}">
                                            <p:ajax update="mainpanel" listener="#{user.checkonvacation}" />
                                        </p:inputSwitch>

                                        <p:spacer width="5" /> 
                                        <h:outputText value="Click to activate/deactivate" /> 
                                    </h:panelGrid> 
                                    <br />
                                    <br /> 
                                </h:panelGroup>
                                    
                                <h:panelGroup layout="block" style="padding-left: 120px;">  
                                    <h:panelGroup layout="block" style="border: none; width: 100%;" 
                                                 rendered="#{request.isUserInRole('admin') || request.isUserInRole('manager') || request.isUserInRole('superuser')}">
                                        <p:commandLink actionListener="#{loanAdmin.manageAccount()}" 
                                                       value="Manage user account"  
                                                       process="@this" global="false" update="mainpanel"   
                                                       styleClass="clink"  />  
                                    </h:panelGroup> 
                                    <h:panelGroup layout="block" style="border: none; width: 100%;" 
                                                  rendered="#{request.isUserInRole('admin') || request.isUserInRole('manager') || request.isUserInRole('superuser')}">
                                        <p:commandLink actionListener="#{loanAdmin.manageCollection()}" 
                                                       value="Manage collection"  
                                                       process="@this" global="false" 
                                                       update="mainpanel " styleClass="clink"  />  
                                    </h:panelGroup>
 
                                    <h:panelGroup layout="block" style="border: none; width: 100%;" >
                                        <p:commandLink actionListener="#{loanAdmin.manageLoans()}" value="Manage loan requests"  
                                                       process="@this" global="false" 
                                                       update="mainpanel " styleClass="clink"  />  
                                    </h:panelGroup>

                                    <h:panelGroup layout="block" style="border: none; width: 100%;" 
                                                 rendered="#{request.isUserInRole('admin') || request.isUserInRole('manager') || request.isUserInRole('superuser')}">
                                        <p:commandLink actionListener="#{loanAdmin.managePolicyDocuments()}"
                                                       value="Manage policy documents"  
                                                       process="@this" global="false" 
                                                       update="mainpanel " styleClass="clink"  />  
                                    </h:panelGroup> 

                                    <h:panelGroup layout="block" style="border: none; width: 100%;" 
                                                 rendered="#{request.isUserInRole('admin') || request.isUserInRole('manager') || request.isUserInRole('superuser')}">
                                        <p:commandLink actionListener="#{loanAdmin.managePortalPopup()}" 
                                                       value="Manage portal notifications"  
                                                       process="@this" global="false" 
                                                       update="mainpanel " styleClass="clink"  />  
                                    </h:panelGroup>  
                                </h:panelGroup> 
                            </h:panelGroup>
                        </h:panelGroup>
                    </h:panelGroup>
                </h:form>
            </ui:define>
        </ui:composition>
    </body>
</html>